Prompt para Replit Agent â€“ Chatbot de HomesApp (Tulum Rental Homes)

Quiero que diseÃ±es y dejes funcionando el chatbot de HomesApp con un objetivo claro:

ğŸ‘‰ Siempre que alguien hable con el bot, el flujo debe llevarlo a completar sus datos y convertirse en un lead, y opcionalmente a coordinar una cita en alguna propiedad.
La captura del lead es obligatoria; la cita es opcional.

A continuaciÃ³n te detallo cÃ³mo debe funcionar.

1. Alcance del chatbot

El chatbot debe estar disponible en:

Homepage pÃºblica.

Vista pÃºblica de propiedades / ofertas compartidas por link.

(Opcional mÃ¡s adelante) Dentro del panel de agencias externas.

Debe responder en espaÃ±ol sencillo, con mensajes cortos y amables.

2. Flujo general del chatbot

Quiero un flujo muy guiado, NO un bot que se ponga a conversar infinito.

Saludo inicial

Mensaje tipo:

â€œğŸ‘‹ Hola, soy el asistente de Tulum Rental Homes.
Â¿Me cuentas quÃ© estÃ¡s buscando para ayudarte mejor?â€

Ofrece botones de opciones rÃ¡pidas, por ejemplo:

â€œQuiero rentarâ€

â€œQuiero comprarâ€

â€œSoy propietario y quiero enlistar mi propiedadâ€

â€œSolo estoy viendo / tengo una dudaâ€

Respuesta breve + empezar captura de lead

Si el usuario hace una pregunta general (ej. â€œÂ¿tienen departamentos en Aldea Zama?â€), el bot:

Responde con una explicaciÃ³n corta (1â€“2 frases, nada largo).

Inmediatamente despuÃ©s dice algo tipo:

â€œPara ayudarte mejor, necesito unos datos rÃ¡pidos ğŸ™â€

Y pasa al formulario conversacional de lead.

Formulario conversacional de LEAD (obligatorio)
El bot debe pedir, en pasos, como diÃ¡logo, estos campos (en este orden o similar):

Nombre
â€œÂ¿CuÃ¡l es tu nombre?â€

WhatsApp / telÃ©fono (obligatorio)
â€œÂ¿Me compartes tu nÃºmero de WhatsApp para contactarte?â€

Tipo de operaciÃ³n (si no quedÃ³ claro antes):

Rentar 6â€“12 meses

Rentar por temporada corta

Comprar

Presupuesto
â€œÂ¿CuÃ¡l es tu presupuesto aproximado mensual (o de compra)?â€

Zona preferida
â€œÂ¿En quÃ© zona te gustarÃ­a? (ej. Aldea Zama, La Veleta, RegiÃ³n 15â€¦)â€

Fecha estimada de ingreso
â€œÂ¿Para cuÃ¡ndo estÃ¡s buscando mudarte?â€

NÃºmero de personas / recÃ¡maras
â€œÂ¿CuÃ¡ntas personas vivirÃ¡n? Â¿CuÃ¡ntas recÃ¡maras necesitas?â€

Reglas:

El bot no sigue a la siguiente pregunta si la respuesta a un campo obligatorio estÃ¡ vacÃ­a o demasiado rara (por ejemplo, telÃ©fono vacÃ­o).

Siempre que falte algo importante, pide confirmaciÃ³n o reformula.

CreaciÃ³n del LEAD en la base de datos

Una vez recopilados los datos:

Crea un registro en la tabla de leads (o estructura equivalente), con campos mÃ­nimos:

name

phone

email (si lo pides tambiÃ©n)

operation_type (renta larga, renta corta, compra)

budget

preferred_zone

move_in_date

people_count / bedrooms

source = "chatbot_homesapp"

source_page (homepage, mapa, ficha de propiedad, etc.)

Si el chat viene desde una propiedad concreta:

property_id o condominium_id asociado.

Si ya existe un lead con el mismo telÃ©fono, actualiza el lead existente o relaciona este nuevo interÃ©s con ese lead (no lo dupliques sin sentido).

IMPORTANTE:

No quiero chats â€œanÃ³nimosâ€: si el usuario no da al menos nombre + telÃ©fono, el lead se marca como incompleto y el bot debe intentar insistir amablemente una vez mÃ¡s para conseguir esos datos.

ConfirmaciÃ³n al usuario

DespuÃ©s de guardar el lead:

Mensaje tipo:

â€œPerfecto, muchas gracias, [Nombre] ğŸ™Œ
Ya tenemos tus datos y un asesor de Tulum Rental Homes te contactarÃ¡ por WhatsApp.â€

Si el chat viene desde una propiedad especÃ­fica:

â€œEsta solicitud queda ligada a la propiedad [Nombre/ID de la propiedad].â€

3. Flujo opcional de cita / visita

DespuÃ©s de crear el lead correctamente:

El bot pregunta:

â€œÂ¿Te gustarÃ­a agendar una visita a alguna propiedad â“â€

Botones:

â€œSÃ­, agendar visitaâ€

â€œNo por ahoraâ€

Si elige SÃ­, agendar visita:

Pide:

Rango de fecha deseado (ej. â€œÂ¿En quÃ© dÃ­a te gustarÃ­a?â€)

Franja horaria (maÃ±ana/tarde/noche)

Crea un registro de cita pendiente asociado al lead y, si aplica, a una propiedad concreta:

lead_id

property_id (si hay)

preferred_date_range

preferred_time_range

status = "pending_confirmation"

Mensaje al usuario:

â€œListo ğŸ‰ He registrado tu solicitud de visita.
Un asesor te confirmarÃ¡ la fecha y hora exacta por WhatsApp.â€

Si elige No por ahora:

Simplemente agradece y cierra el flujo:

â€œPerfecto, [Nombre]. Cualquier duda extra me puedes escribir aquÃ­ y un asesor te contactarÃ¡ con opciones.â€

4. Reglas de UX del chatbot

Respuestas cortas

Nada de pÃ¡rrafos gigantes. MÃ¡ximo 2â€“3 frases por mensaje.

Siempre que dÃ© informaciÃ³n general, remata con una pregunta que acerque al formulario de lead.

Botones rÃ¡pidos

Usa quick replies / botones siempre que sea posible:

Tipo de operaciÃ³n,

Presupuesto por rangos,

Zona sugerida,

Respuesta SÃ­/No para agendar visita.

Manejo de preguntas â€œrarasâ€

Si el usuario se sale del tema (â€œholaâ€, â€œgraciasâ€, â€œokâ€, etc.), el bot responde corto y regresa al flujo:

â€œCon gusto ğŸ˜Š Para ayudarte mejor, seguimos con tus datosâ€¦â€

AsignaciÃ³n interna

El lead que crea el chatbot debe quedar:

Asignado por defecto a Tulum Rental Homes como agencia principal.

Si el chat se origina desde una propiedad de una agencia externa, guarda tambiÃ©n el external_agency_id para que se pueda derivar al vendedor correcto.

5. Lo que quiero que me devuelvas

Al terminar, explÃ­came:

QuÃ© componente(s) del chatbot creaste o modificaste.

En quÃ© tabla/estructura se guardan los leads y quÃ© campos estÃ¡s llenando.

CÃ³mo se asocia un lead de chatbot con:

una propiedad concreta (si aplica),

una agencia externa (si aplica),

y con Tulum Rental Homes como agencia principal.

QuÃ© pruebas hiciste:

Caso desde homepage,

Caso desde ficha de propiedad,

Caso donde el usuario acepta agendar visita,

Caso donde se niega pero igual deja sus datos.